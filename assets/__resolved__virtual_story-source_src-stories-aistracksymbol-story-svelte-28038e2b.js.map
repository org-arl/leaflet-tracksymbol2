{"version":3,"file":"__resolved__virtual_story-source_src-stories-aistracksymbol-story-svelte-28038e2b.js","sources":["../../../../../../../../__resolved__virtual:story-source:src-stories-aistracksymbol-story-svelte"],"sourcesContent":["export default \"<script lang=\\\"ts\\\">\\n    import type {Hst} from '@histoire/plugin-svelte';\\n    import {onMount} from 'svelte';\\n    import L, {Map as LeafletMap} from 'leaflet';\\n    import {AISTrackSymbol} from '@arl/leaflet-tracksymbol2';\\n    import type {PositionReport} from '@arl/leaflet-tracksymbol2';\\n\\n    export let Hst: Hst;\\n\\n    const p1 = [1.229, 103.813];\\n    const p2 = [1.239, 103.854];\\n\\n    let mapElement: HTMLDivElement;\\n    let map: LeafletMap;\\n    let ts1: AISTrackSymbol;\\n    let ts2: AISTrackSymbol;\\n    let center = [1.251, 103.826];\\n\\n    let trueHeading1 = 320;\\n    let cog1 = 45;\\n    let sog1 = 2.0;\\n    let trueHeading2 = 120;\\n    let cog2 = 240;\\n    let sog2 = 5.0;\\n\\n    let positionReport1: PositionReport = {\\n        latitude: p1[0],\\n        longitude: p1[1],\\n        trueHeading: trueHeading1,\\n        cog: cog1,\\n        sog: sog1,\\n    };\\n    let positionReport2: PositionReport = {\\n        latitude: p2[0],\\n        longitude: p2[1],\\n        trueHeading: trueHeading2,\\n        cog: cog2,\\n        sog: sog2,\\n    };\\n\\n    $: {\\n        positionReport1.trueHeading = trueHeading1;\\n        positionReport1.cog = cog1;\\n        positionReport1.sog = sog1;\\n        if (ts1) {\\n            ts1.setPositionReport(positionReport1);\\n        }\\n    }\\n    $: {\\n        positionReport2.trueHeading = trueHeading2;\\n        positionReport2.cog = cog2;\\n        positionReport2.sog = sog2;\\n        if (ts2) {\\n            ts2.setPositionReport(positionReport2);\\n        }\\n    }\\n    $: {\\n        if (map) {\\n            map.setView(center);\\n        }\\n    }\\n\\n    onMount(() => {\\n        if (!mapElement) {\\n            return;\\n        }\\n        map = L.map(mapElement, {\\n            center: center,\\n            zoom: 13,\\n        });\\n        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\\n            attribution: '&copy; <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors',\\n        })\\n            .addTo(map);\\n\\n        ts1 = new AISTrackSymbol(positionReport1, {\\n            shipStaticData: {\\n                userId: 123,\\n                imoNumber: 456,\\n                callSign: 'ABC',\\n                name: 'ABC',\\n                type: 31,\\n                dimension: {\\n                    A: 80,\\n                    B: 30,\\n                    C: 20,\\n                    D: 40,\\n                },\\n                fixType: 1,\\n                eta: {\\n                    month: 2,\\n                    day: 5,\\n                    hour: 15,\\n                    minute: 37,\\n                },\\n                destination: \\\"Singapore\\\",\\n                dte: true,\\n            },\\n        });\\n        ts1.bindTooltip(\\\"AISTrackSymbol1\\\");\\n        ts1\\n            .addTo(map);\\n\\n        ts2 = new AISTrackSymbol(positionReport2, {\\n        });\\n        ts2.bindTooltip(\\\"AISTrackSymbol2\\\");\\n        ts2\\n            .addTo(map);\\n    });\\n</script>\\n\\n<style global>\\n    html,\\n    body,\\n    div#app,\\n    div#app > div,\\n    div#app > div > div,\\n    div#map {\\n        width: 100%;\\n        height: 100%;\\n        margin: 0;\\n        padding: 0;\\n    }\\n</style>\\n\\n<Hst.Story group=\\\"layers\\\">\\n    <div bind:this={mapElement} id=\\\"map\\\">\\n    </div>\\n\\n    <svelte:fragment slot=\\\"controls\\\">\\n        <h3>AISTrackSymbol1</h3>\\n        <Hst.Number bind:value={trueHeading1} title=\\\"Heading (deg)\\\" />\\n        <Hst.Number bind:value={cog1} title=\\\"COG (deg)\\\" />\\n        <Hst.Number bind:value={sog1} title=\\\"SOG (knots)\\\" />\\n        <button class=\\\"htw-p-2\\\" on:click={() => center = p1}>Locate</button>\\n\\n        <h3>AISTrackSymbol2</h3>\\n        <Hst.Number bind:value={trueHeading2} title=\\\"Heading (deg)\\\" />\\n        <Hst.Number bind:value={cog2} title=\\\"COG (deg)\\\" />\\n        <Hst.Number bind:value={sog2} title=\\\"SOG (knots)\\\" />\\n        <button class=\\\"htw-p-2\\\" on:click={() => center = p2}>Locate</button>\\n    </svelte:fragment>\\n</Hst.Story>\\n\""],"names":[],"mappings":"AAAA,MAAe,sEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;"}