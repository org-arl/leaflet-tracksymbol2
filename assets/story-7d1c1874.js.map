{"version":3,"file":"story-7d1c1874.js","sources":["../../../node_modules/.pnpm/@histoire+app@0.17.6_vite@4.5.1/node_modules/@histoire/app/dist/bundled/stores/story.js"],"sourcesContent":["import { defineStore } from \"@histoire/vendors/pinia\";\nimport { ref, computed } from \"@histoire/vendors/vue\";\nimport { router } from \"../router.js\";\n\"use strict\";\nconst useStoryStore = defineStore(\"story\", () => {\n  const stories = ref([]);\n  function setStories(value) {\n    stories.value = value;\n  }\n  const currentStory = computed(() => stories.value.find((s) => s.id === router.currentRoute.value.params.storyId));\n  const currentVariant = computed(() => {\n    var _a;\n    return (_a = currentStory.value) == null ? void 0 : _a.variants.find((v) => v.id === router.currentRoute.value.query.variantId);\n  });\n  const maps = computed(() => {\n    const storyMap = /* @__PURE__ */ new Map();\n    const variantMap = /* @__PURE__ */ new Map();\n    for (const story of stories.value) {\n      storyMap.set(story.id, story);\n      for (const variant of story.variants) {\n        variantMap.set(`${story.id}:${variant.id}`, variant);\n      }\n    }\n    return {\n      stories: storyMap,\n      variants: variantMap\n    };\n  });\n  function getStoryById(id) {\n    return maps.value.stories.get(id);\n  }\n  function getVariantById(idWithStoryId) {\n    return maps.value.variants.get(idWithStoryId);\n  }\n  return {\n    stories,\n    setStories,\n    currentStory,\n    currentVariant,\n    getStoryById,\n    getVariantById\n  };\n});\nexport {\n  useStoryStore\n};\n"],"names":[],"mappings":";;AAIK,MAAC,gBAAgB,YAAY,SAAS,MAAM;AAC/C,QAAM,UAAU,IAAI,CAAA,CAAE;AACtB,WAAS,WAAW,OAAO;AACzB,YAAQ,QAAQ;AAAA,EACjB;AACD,QAAM,eAAe,SAAS,MAAM,QAAQ,MAAM,KAAK,CAAC,MAAM,EAAE,OAAO,OAAO,aAAa,MAAM,OAAO,OAAO,CAAC;AAChH,QAAM,iBAAiB,SAAS,MAAM;AACpC,QAAI;AACJ,YAAQ,KAAK,aAAa,UAAU,OAAO,SAAS,GAAG,SAAS,KAAK,CAAC,MAAM,EAAE,OAAO,OAAO,aAAa,MAAM,MAAM,SAAS;AAAA,EAClI,CAAG;AACD,QAAM,OAAO,SAAS,MAAM;AAC1B,UAAM,WAA2B,oBAAI;AACrC,UAAM,aAA6B,oBAAI;AACvC,eAAW,SAAS,QAAQ,OAAO;AACjC,eAAS,IAAI,MAAM,IAAI,KAAK;AAC5B,iBAAW,WAAW,MAAM,UAAU;AACpC,mBAAW,IAAI,GAAG,MAAM,EAAE,IAAI,QAAQ,EAAE,IAAI,OAAO;AAAA,MACpD;AAAA,IACF;AACD,WAAO;AAAA,MACL,SAAS;AAAA,MACT,UAAU;AAAA,IAChB;AAAA,EACA,CAAG;AACD,WAAS,aAAa,IAAI;AACxB,WAAO,KAAK,MAAM,QAAQ,IAAI,EAAE;AAAA,EACjC;AACD,WAAS,eAAe,eAAe;AACrC,WAAO,KAAK,MAAM,SAAS,IAAI,aAAa;AAAA,EAC7C;AACD,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACA,CAAC;","x_google_ignoreList":[0]}