{"version":3,"file":"state-e727c9b5.js","sources":["../../../node_modules/.pnpm/@histoire+app@0.12.4_vite@4.0.4/node_modules/@histoire/app/dist/bundled/components/story/GenericRenderStory.vue2.js","../../../node_modules/.pnpm/@histoire+app@0.12.4_vite@4.0.4/node_modules/@histoire/app/dist/bundled/util/const.js","../../../node_modules/.pnpm/@histoire+app@0.12.4_vite@4.0.4/node_modules/@histoire/app/dist/bundled/util/preview-settings.js","../../../node_modules/.pnpm/@histoire+app@0.12.4_vite@4.0.4/node_modules/@histoire/app/dist/bundled/util/state.js"],"sourcesContent":["import { defineComponent, ref, watchEffect, markRaw, openBlock, createBlock, resolveDynamicComponent, mergeProps, createCommentVNode } from \"@histoire/vendors/vue\";\nimport { clientSupportPlugins } from \"virtual:$histoire-support-plugins-client\";\n\"use strict\";\nconst __default__ = {\n  inheritAttrs: false\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  __name: \"GenericRenderStory\",\n  props: {\n    story: null\n  },\n  setup(__props) {\n    const props = __props;\n    const mountComponent = ref(null);\n    watchEffect(async () => {\n      var _a;\n      const clientPlugin = clientSupportPlugins[(_a = props.story.file) == null ? void 0 : _a.supportPluginId];\n      if (clientPlugin) {\n        const pluginModule = await clientPlugin();\n        mountComponent.value = markRaw(pluginModule.RenderStory);\n      }\n    });\n    return (_ctx, _cache) => {\n      return mountComponent.value ? (openBlock(), createBlock(resolveDynamicComponent(mountComponent.value), mergeProps({\n        key: 0,\n        class: \"histoire-generic-render-story __histoire-render-story\",\n        story: __props.story\n      }, _ctx.$attrs), null, 16, [\"story\"])) : createCommentVNode(\"\", true);\n    };\n  }\n});\nexport {\n  _sfc_main as default\n};\n","const STATE_SYNC = \"__histoire:state-sync\";\nconst SANDBOX_READY = \"__histoire:sandbox-ready\";\nconst EVENT_SEND = \"__histoire:event\";\nconst PREVIEW_SETTINGS_SYNC = \"__histoire:preview-settings-sync\";\nexport {\n  EVENT_SEND,\n  PREVIEW_SETTINGS_SYNC,\n  SANDBOX_READY,\n  STATE_SYNC\n};\n","import { reactive } from \"@histoire/vendors/vue\";\nimport { histoireConfig } from \"./config.js\";\n\"use strict\";\nconst receivedSettings = reactive({});\nfunction applyPreviewSettings(settings) {\n  Object.assign(receivedSettings, settings);\n  document.documentElement.setAttribute(\"dir\", settings.textDirection);\n  const contrastColor = getContrastColor(settings);\n  document.documentElement.style.setProperty(\"--histoire-contrast-color\", contrastColor);\n  if (histoireConfig.autoApplyContrastColor) {\n    document.documentElement.style.color = contrastColor;\n  }\n}\nfunction getContrastColor(setting) {\n  var _a;\n  return ((_a = histoireConfig.backgroundPresets.find((preset) => preset.color === setting.backgroundColor)) == null ? void 0 : _a.contrastColor) ?? \"unset\";\n}\nexport {\n  applyPreviewSettings,\n  getContrastColor,\n  receivedSettings\n};\n","import { isRef, unref } from \"@histoire/vendors/vue\";\n\"use strict\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nfunction toRawDeep(val, clean = false, seen = /* @__PURE__ */ new WeakMap()) {\n  const unwrappedValue = isRef(val) ? unref(val) : val;\n  if (typeof unwrappedValue === \"symbol\") {\n    return unwrappedValue.toString();\n  }\n  if (!isObject(unwrappedValue)) {\n    return unwrappedValue;\n  }\n  if (seen.has(unwrappedValue)) {\n    return seen.get(unwrappedValue);\n  }\n  if (Array.isArray(unwrappedValue)) {\n    const result = [];\n    seen.set(unwrappedValue, result);\n    let list = unwrappedValue.map((value) => toRawDeep(value, clean, seen));\n    if (clean) {\n      list = list.filter((value) => typeof value !== \"function\");\n    }\n    result.push(...list);\n    return result;\n  } else {\n    const result = {};\n    seen.set(unwrappedValue, result);\n    toRawObject(unwrappedValue, result, clean, seen);\n    return result;\n  }\n}\nconst toRawObject = (obj, target, clean = false, seen = /* @__PURE__ */ new WeakMap()) => {\n  Object.keys(obj).forEach((key) => {\n    if (clean && typeof obj[key] === \"function\") {\n      return;\n    }\n    target[key] = toRawDeep(obj[key], clean, seen);\n  });\n};\nexport {\n  toRawDeep\n};\n"],"names":[],"mappings":";;AAGA,MAAM,cAAc;AAAA,EAClB,cAAc;AAChB;AACK,MAAC,YAA4B,gCAAgB;AAAA,EAChD,GAAG;AAAA,EACH,QAAQ;AAAA,EACR,OAAO;AAAA,IACL,OAAO;AAAA,EACR;AAAA,EACD,MAAM,SAAS;AACb,UAAM,QAAQ;AACd,UAAM,iBAAiB,IAAI,IAAI;AAC/B,gBAAY,YAAY;AACtB,UAAI;AACJ,YAAM,eAAe,sBAAsB,KAAK,MAAM,MAAM,SAAS,OAAO,SAAS,GAAG;AACxF,UAAI,cAAc;AAChB,cAAM,eAAe,MAAM;AAC3B,uBAAe,QAAQ,QAAQ,aAAa,WAAW;AAAA,MACxD;AAAA,IACP,CAAK;AACD,WAAO,CAAC,MAAM,WAAW;AACvB,aAAO,eAAe,SAAS,aAAa,YAAY,wBAAwB,eAAe,KAAK,GAAG,WAAW;AAAA,QAChH,KAAK;AAAA,QACL,OAAO;AAAA,QACP,OAAO,QAAQ;AAAA,MAChB,GAAE,KAAK,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,KAAK,mBAAmB,IAAI,IAAI;AAAA,IAC1E;AAAA,EACG;AACH,CAAC;AC/BI,MAAC,aAAa;AACd,MAAC,gBAAgB;AACjB,MAAC,aAAa;AACd,MAAC,wBAAwB;ACA9B,MAAM,mBAAmB,SAAS,CAAA,CAAE;AACpC,SAAS,qBAAqB,UAAU;AACtC,SAAO,OAAO,kBAAkB,QAAQ;AACxC,WAAS,gBAAgB,aAAa,OAAO,SAAS,aAAa;AACnE,QAAM,gBAAgB,iBAAiB,QAAQ;AAC/C,WAAS,gBAAgB,MAAM,YAAY,6BAA6B,aAAa;AACrF,MAAI,eAAe,wBAAwB;AACzC,aAAS,gBAAgB,MAAM,QAAQ;AAAA,EACxC;AACH;AACA,SAAS,iBAAiB,SAAS;AACjC,MAAI;AACJ,WAAS,KAAK,eAAe,kBAAkB,KAAK,CAAC,WAAW,OAAO,UAAU,QAAQ,eAAe,MAAM,OAAO,SAAS,GAAG,kBAAkB;AACrJ;ACdA,MAAM,WAAW,CAAC,QAAQ,QAAQ,QAAQ,OAAO,QAAQ;AACzD,SAAS,UAAU,KAAK,QAAQ,OAAO,OAAuB,oBAAI,WAAW;AAC3E,QAAM,iBAAiB,MAAM,GAAG,IAAI,MAAM,GAAG,IAAI;AACjD,MAAI,OAAO,mBAAmB,UAAU;AACtC,WAAO,eAAe;EACvB;AACD,MAAI,CAAC,SAAS,cAAc,GAAG;AAC7B,WAAO;AAAA,EACR;AACD,MAAI,KAAK,IAAI,cAAc,GAAG;AAC5B,WAAO,KAAK,IAAI,cAAc;AAAA,EAC/B;AACD,MAAI,MAAM,QAAQ,cAAc,GAAG;AACjC,UAAM,SAAS,CAAA;AACf,SAAK,IAAI,gBAAgB,MAAM;AAC/B,QAAI,OAAO,eAAe,IAAI,CAAC,UAAU,UAAU,OAAO,OAAO,IAAI,CAAC;AACtE,QAAI,OAAO;AACT,aAAO,KAAK,OAAO,CAAC,UAAU,OAAO,UAAU,UAAU;AAAA,IAC1D;AACD,WAAO,KAAK,GAAG,IAAI;AACnB,WAAO;AAAA,EACX,OAAS;AACL,UAAM,SAAS,CAAA;AACf,SAAK,IAAI,gBAAgB,MAAM;AAC/B,gBAAY,gBAAgB,QAAQ,OAAO,IAAI;AAC/C,WAAO;AAAA,EACR;AACH;AACA,MAAM,cAAc,CAAC,KAAK,QAAQ,QAAQ,OAAO,OAAuB,oBAAI,cAAc;AACxF,SAAO,KAAK,GAAG,EAAE,QAAQ,CAAC,QAAQ;AAChC,QAAI,SAAS,OAAO,IAAI,SAAS,YAAY;AAC3C;AAAA,IACD;AACD,WAAO,OAAO,UAAU,IAAI,MAAM,OAAO,IAAI;AAAA,EACjD,CAAG;AACH;"}