<html>
<head>
    <title>leaflet-tracksymbol2 TrackSymbol example</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>

    <script src="https://cdn.jsdelivr.net/gh/org-arl/leaflet-tracksymbol2/dist/leaflet-tracksymbol2.umd.js"></script>

    <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
    </style>
</head>
<body>
<div id="map"></div>
<script>
    function toRadians(degs) {
        if ((degs === null) || (degs === undefined)) {
            return undefined;
        }
        return degs * Math.PI / 180;
    }

    var map = L.map('map', {
        center: [1.251, 103.826],
        zoom: 13,
    });
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
    })
        .addTo(map);

    var ts1 = new L.trackSymbol([1.229, 103.813], {
        fill: true,
        fillColor: 'yellow',
        fillOpacity: 1,
        heading: toRadians(320),
        course: toRadians(300),
        speed: 5.0,
    });
    ts1.bindTooltip("TrackSymbol1");
    ts1
        .addTo(map);

    var ts2 = new L.trackSymbol([1.239, 103.854], {
        fill: true,
        fillColor: 'red',
        fillOpacity: 1,
        shapeOptions: {
            shapeSetEntries: [{
                shapeSet: {
                    withHeading: {
                        points: [[1, 0.5], [0.75, 1], [0, 1], [0, 0], [0.75, 0]],
                        center: [30, 40],
                        length: 110,
                        breadth: 60,
                        units: "meters",
                    },
                    withoutHeading: L.TrackSymbol.createShape(L.TrackSymbol.DEFAULT_NOHEADING_SHAPE_POINTS, 24),
                },
                minZoomLevel: 14,
            }],
            defaultShapeSet: L.TrackSymbol.createShapeSet(24),
        },
        heading: toRadians(120),
        course: toRadians(100),
        speed: 10.0,
    });
    ts2.bindTooltip("TrackSymbol2");
    ts2
        .addTo(map);
</script>
</body>
</html>
